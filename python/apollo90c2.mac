# 6 part rainbow consine swing

%include symbols

$fade-rate 8000
$fade-type sfd
$sequencer-type swc
$hsl-angle 60
$hsl-step 2
$hsl-time 100
$base-timing 150
$timing-gap 1
$render-time <base-timing>

[fancy 10]
    (init)
    (setup-components)

[init]
    app
    <CONFIG-FADE-RATE>,<fade-rate>:cfg
    <render-time>,<render>:sch

[render !]
    flu

[setup-components]
    (setup-swingers)
    (setup-hsl-sequencer)

[setup-swingers]
    (((start 6)))

[setup-hsl-sequencer]
    {seq-hsl},360:seq
    <hsl-time>,<hsl-sequencer>:sch

[hsl-sequencer]
    <seq-hsl>,0,<hsl-step>:seq
    sto
    <hsl-angle>:rcl
    csh

(((swinger 6 15)))

[[start X
    (setup-swinger-X)
]]

[[swinger X WIDTH
    [setup-swinger-X]
        {seq-X},`X*WIDTH+WIDTH`,`X*WIDTH`:<sequencer-type>
        `<base-timing> + (<seq-X> * <timing-gap>)`,<swinger-X>:sch

    [swinger-X]
        <seq-X>:snw
        pos
        <seq-X>:pal
        <fade-type>
        flo
        rst
]]





# rainbow wandering pixels with mirror

#%include symbols

$max <NUM-LEDS>
$max-half <max>
$render-time2 50
$sequence-time 20
$fade-type2 ffd

$wander-range 3
$wander-neg-range `-(<wander-range> / 2)`

$brightness 20

[demo 13]
    (init2)
    (setup-rendering2)
    (start-components)
    (setup-hsl-sequencer)

[init2]
    app
    <brightness>:lev

[setup-rendering2]
    <render-time2>,<render>:sch

#[render2 !]
#    flu

[start-components]
    (((start2 6)))

(((wanderer 6)))

[[start2 X
    (start2-X)
]]

[[wanderer X
    [start2-X]
        <seq-X>,<max>,0:seq
        <sequence-time>,<sequence-X>:sch

    [sequence-X]
        <seq-X>,<MACRO-SEQ>,<math-X>:seq
        pos
        X,0,<ADD-COLOR>:pal
        <fade-type2>
        rst

    [math-X]
        <wander-range>:rng:psh
        <wander-neg-range>:psh
        add
        <seq-X>,<GET-CURRENT>:seq:psh
        add
        <max-half>:psh
        mod
]]

